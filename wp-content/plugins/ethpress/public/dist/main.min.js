function noop(){}function assign(e,t){for(const n in t)e[n]=t[n];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e)return noop;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function get_store_value(e){let t;return subscribe(e,e=>t=e)(),t}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function create_slot(e,t,n,a){if(e){const o=get_slot_context(e,t,n,a);return e[0](o)}}function get_slot_context(e,t,n,a){return e[1]&&a?assign(n.ctx.slice(),e[1](a(t))):n.ctx}function get_slot_changes(e,t,n,a){if(e[2]&&a){const o=e[2](a(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let a=0;a<n;a+=1)e[a]=t.dirty[a]|o[a];return e}return t.dirty|o}return t.dirty}function update_slot(e,t,n,a,o,r,i){const l=get_slot_changes(t,a,o,r);if(l){const o=get_slot_context(t,n,a,i);e.p(o,l)}}function exclude_internal_props(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function set_svg_attributes(e,t){for(const n in t)attr(e,n,t[n])}function children(e){return Array.from(e.childNodes)}function claim_element(e,t,n,a){for(let a=0;a<e.length;a+=1){const o=e[a];if(o.nodeName===t){let t=0;const r=[];for(;t<o.attributes.length;){const e=o.attributes[t++];n[e.name]||r.push(e.name)}for(let e=0;e<r.length;e++)o.removeAttribute(r[e]);return e.splice(a,1)[0]}}return a?svg_element(t):element(t)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_style(e,t,n,a){e.style.setProperty(t,n,a?"important":"")}function custom_event(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n)=>{const a=e.$$.callbacks[t];if(a){const o=custom_event(t,n);a.slice().forEach(t=>{t.call(e,o)})}}}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let e=0;e<dirty_components.length;e+=1){const t=dirty_components[e];set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,a){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function get_spread_update(e,t){const n={},a={},o={$$scope:1};let r=e.length;for(;r--;){const i=e[r],l=t[r];if(l){for(const e in i)e in l||(a[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[r]=l}else for(const e in i)o[e]=1}for(const e in a)e in n||(n[e]=void 0);return n}function create_component(e){e&&e.c()}function mount_component(e,t,n){const{fragment:a,on_mount:o,on_destroy:r,after_update:i}=e.$$;a&&a.m(t,n),add_render_callback(()=>{const t=o.map(run).filter(is_function);r?r.push(...t):run_all(t),e.$$.on_mount=[]}),i.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,a,o,r,i=[-1]){const l=current_component;set_current_component(e);const c=t.props||{},s=e.$$={fragment:null,ctx:null,props:r,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:blank_object(),dirty:i,skip_bound:!1};let d=!1;if(s.ctx=n?n(e,c,(t,n,...a)=>{const r=a.length?a[0]:n;return s.ctx&&o(s.ctx[t],s.ctx[t]=r)&&(!s.skip_bound&&s.bound[t]&&s.bound[t](r),d&&make_dirty(e,t)),n}):[],s.update(),d=!0,run_all(s.before_update),s.fragment=!!a&&a(s.ctx),t.target){if(t.hydrate){const e=children(t.target);s.fragment&&s.fragment.l(e),e.forEach(detach)}else s.fragment&&s.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(e,t=noop){let n;const a=[];function o(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),subscriber_queue.push(n,e)}if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(r,i=noop){const l=[r,i];return a.push(l),1===a.length&&(n=t(o)||noop),r(e),()=>{const e=a.indexOf(l);-1!==e&&a.splice(e,1),0===a.length&&(n(),n=null)}}}}const modal=createModal(),login=createLoginFunctions(),__=writable({calltoaction:"Choose your login method",nodetect:"Error: cannot detect crypto wallet",permission:"Waiting for your permission",fetching:"Fetching login phrase...",awaiting:"Waiting for your signature",verifying:"Verifying signature...",loggedin:"Logged in",aborted:"Login aborted",heading:"Log In",walletconnectButtonTitle:"Scan a QR code with your wallet, https://walletconnect.org",metamaskButtonTitle:"Browser add-on and mobile app, https://metamask.io"});function createModal(){const{update:e,set:t,subscribe:n}=writable(!1);return{subscribe:n,open:()=>t(!0),close:()=>t(!1),toggle:()=>e(e=>!e)}}function createLoginFunctions(){const{update:e,subscribe:t}=writable({});return{subscribe:t,update:t=>e(e=>({...e,...t}))}}const{document:document_1}=globals;function add_css(){var e=element("style");e.id="svelte-1ad5ldo-style",e.textContent=".web3login-modal-background.svelte-1ad5ldo{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0, 0, 0, 0.3);z-index:1336}.web3login-modal-heading.svelte-1ad5ldo{font-size:1.5em;font-weight:bold}.web3login-modal.svelte-1ad5ldo{position:fixed;left:50%;top:50%;width:calc(100vw - 4.2em);max-width:22em;max-height:calc(100vh - 4.2em);overflow:auto;transform:translate(-50%, -50%);padding:24px;border-radius:0.2em;background:white;z-index:1337;color:black}",append(document_1.head,e)}const get_heading_slot_changes=e=>({}),get_heading_slot_context=e=>({});function create_fragment(e){let t,n,a,o,r,i,l,c,s;const d=e[4].heading,u=create_slot(d,e,e[3],get_heading_slot_context),p=e[4].default,m=create_slot(p,e,e[3],null);return{c(){t=element("div"),n=space(),a=element("div"),o=element("div"),u&&u.c(),r=space(),i=element("div"),m&&m.c(),attr(t,"class","web3login-modal-background svelte-1ad5ldo"),attr(o,"class","web3login-modal-heading svelte-1ad5ldo"),attr(i,"class","web3login-modal-content"),attr(a,"class","web3login-modal svelte-1ad5ldo"),attr(a,"role","dialog"),attr(a,"aria-modal","true")},m(d,p){insert(d,t,p),insert(d,n,p),insert(d,a,p),append(a,o),u&&u.m(o,null),append(a,r),append(a,i),m&&m.m(i,null),e[5](a),l=!0,c||(s=[listen(window,"keydown",e[2]),listen(t,"click",e[1])],c=!0)},p(e,[t]){u&&u.p&&8&t&&update_slot(u,d,e,e[3],t,get_heading_slot_changes,get_heading_slot_context),m&&m.p&&8&t&&update_slot(m,p,e,e[3],t,null,null)},i(e){l||(transition_in(u,e),transition_in(m,e),l=!0)},o(e){transition_out(u,e),transition_out(m,e),l=!1},d(o){o&&detach(t),o&&detach(n),o&&detach(a),u&&u.d(o),m&&m.d(o),e[5](null),c=!1,run_all(s)}}}function instance(e,t,n){let{$$slots:a={},$$scope:o}=t;const r=createEventDispatcher(),i=()=>r("close");let l;const c="undefined"!=typeof document&&document.activeElement;return c&&onDestroy(()=>{c.focus()}),e.$$set=e=>{"$$scope"in e&&n(3,o=e.$$scope)},[l,i,e=>{if("Escape"!==e.key){if("Tab"===e.key){const t=l.querySelectorAll("*"),n=Array.from(t).filter(e=>e.tabIndex>=0);let a=n.indexOf(document.activeElement);-1===a&&e.shiftKey&&(a=0),a+=n.length+(e.shiftKey?-1:1),a%=n.length,n[a].focus(),e.preventDefault()}}else i()},o,a,function(e){binding_callbacks[e?"unshift":"push"](()=>{l=e,n(0,l)})}]}class Modal extends SvelteComponent{constructor(e){super(),document_1.getElementById("svelte-1ad5ldo-style")||add_css(),init(this,e,instance,create_fragment,safe_not_equal,{})}}function create_fragment$1(e){let t,n,a,o,r,i,l,c,s,d,u,p,m,f,h,_,g,b,v,w,$,y,x,k,E,z,M,C,L,S,B,q,j,T=[{height:"355"},{viewBox:"0 0 397 355"},{width:"397"},{xmlns:"http://www.w3.org/2000/svg"},e[0]],W={};for(let e=0;e<T.length;e+=1)W=assign(W,T[e]);return{c(){t=svg_element("svg"),n=svg_element("g"),a=svg_element("path"),o=svg_element("path"),r=svg_element("path"),i=svg_element("path"),l=svg_element("path"),c=svg_element("path"),s=svg_element("path"),d=svg_element("path"),u=svg_element("path"),p=svg_element("path"),m=svg_element("path"),f=svg_element("path"),h=svg_element("path"),_=svg_element("path"),g=svg_element("path"),b=svg_element("path"),v=svg_element("path"),w=svg_element("path"),$=svg_element("g"),y=svg_element("path"),x=svg_element("path"),k=svg_element("path"),E=svg_element("path"),z=svg_element("path"),M=svg_element("path"),C=svg_element("path"),L=svg_element("path"),S=svg_element("path"),B=svg_element("path"),q=svg_element("path"),j=svg_element("path"),this.h()},l(e){t=claim_element(e,"svg",{height:!0,viewBox:!0,width:!0,xmlns:!0},1);var T=children(t);n=claim_element(T,"g",{fill:!0,"fill-rule":!0,transform:!0},1);var W=children(n);a=claim_element(W,"path",{d:!0,fill:!0},1),children(a).forEach(detach),o=claim_element(W,"path",{d:!0,fill:!0,transform:!0},1),children(o).forEach(detach),r=claim_element(W,"path",{d:!0,fill:!0},1),children(r).forEach(detach),i=claim_element(W,"path",{d:!0,fill:!0},1),children(i).forEach(detach),l=claim_element(W,"path",{d:!0,fill:!0},1),children(l).forEach(detach),c=claim_element(W,"path",{d:!0,fill:!0},1),children(c).forEach(detach),s=claim_element(W,"path",{d:!0,fill:!0},1),children(s).forEach(detach),d=claim_element(W,"path",{d:!0,fill:!0},1),children(d).forEach(detach),u=claim_element(W,"path",{d:!0,fill:!0},1),children(u).forEach(detach),p=claim_element(W,"path",{d:!0,fill:!0},1),children(p).forEach(detach),m=claim_element(W,"path",{d:!0,fill:!0},1),children(m).forEach(detach),f=claim_element(W,"path",{d:!0,fill:!0},1),children(f).forEach(detach),h=claim_element(W,"path",{d:!0,fill:!0},1),children(h).forEach(detach),_=claim_element(W,"path",{d:!0,fill:!0},1),children(_).forEach(detach),g=claim_element(W,"path",{d:!0,fill:!0,transform:!0},1),children(g).forEach(detach),b=claim_element(W,"path",{d:!0,fill:!0,transform:!0},1),children(b).forEach(detach),v=claim_element(W,"path",{d:!0,fill:!0},1),children(v).forEach(detach),w=claim_element(W,"path",{d:!0,fill:!0},1),children(w).forEach(detach),$=claim_element(W,"g",{transform:!0},1);var N=children($);y=claim_element(N,"path",{d:!0,fill:!0},1),children(y).forEach(detach),x=claim_element(N,"path",{d:!0,fill:!0},1),children(x).forEach(detach),k=claim_element(N,"path",{d:!0,fill:!0},1),children(k).forEach(detach),E=claim_element(N,"path",{d:!0,fill:!0},1),children(E).forEach(detach),z=claim_element(N,"path",{d:!0,fill:!0},1),children(z).forEach(detach),M=claim_element(N,"path",{d:!0,fill:!0},1),children(M).forEach(detach),C=claim_element(N,"path",{d:!0,fill:!0},1),children(C).forEach(detach),L=claim_element(N,"path",{d:!0,fill:!0},1),children(L).forEach(detach),S=claim_element(N,"path",{d:!0,fill:!0},1),children(S).forEach(detach),B=claim_element(N,"path",{d:!0,fill:!0,transform:!0},1),children(B).forEach(detach),q=claim_element(N,"path",{d:!0,fill:!0},1),children(q).forEach(detach),j=claim_element(N,"path",{d:!0,fill:!0},1),children(j).forEach(detach),N.forEach(detach),W.forEach(detach),T.forEach(detach),this.h()},h(){attr(a,"d","m114.622644 327.195472 52.004717 13.810198v-18.05949l4.245283-4.249292h29.716982v21.246459 14.872523h-31.839624l-39.268868-16.997169z"),attr(a,"fill","#cdbdb2"),attr(o,"d","m199.528305 327.195472 50.943397 13.810198v-18.05949l4.245283-4.249292h29.716981v21.246459 14.872523h-31.839623l-39.268868-16.997169z"),attr(o,"fill","#cdbdb2"),attr(o,"transform","matrix(-1 0 0 1 483.96227 0)"),attr(r,"d","m170.872644 287.889523-4.245283 35.056657 5.306604-4.249292h55.18868l6.367925 4.249292-4.245284-35.056657-8.490565-5.311615-42.452832 1.062323z"),attr(r,"fill","#393939"),attr(i,"d","m142.216984 50.9915022 25.471698 59.4900858 11.674528 173.158643h41.391511l12.735849-173.158643 23.349056-59.4900858z"),attr(i,"fill","#f89c35"),attr(l,"d","m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z"),attr(l,"fill","#f89d35"),attr(c,"d","m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z"),attr(c,"fill","#d87c30"),attr(s,"d","m87.0283032 192.280457 36.0849058 33.994334v33.994334z"),attr(s,"fill","#ea8d3a"),attr(d,"d","m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z"),attr(d,"fill","#f89d35"),attr(u,"d","m123.113209 261.331448-8.490565 65.864024 56.25-39.305949z"),attr(u,"fill","#eb8f35"),attr(p,"d","m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z"),attr(p,"fill","#ea8e3a"),attr(m,"d","m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z"),attr(m,"fill","#d87c30"),attr(f,"d","m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z"),attr(f,"fill","#eb8f35"),attr(h,"d","m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z"),attr(h,"fill","#e8821e"),attr(_,"d","m114.622644 327.195472 56.25-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z"),attr(_,"fill","#dfcec3"),attr(g,"d","m229.245286 327.195472 55.18868-39.305949-4.245283 33.994334v19.121813l-38.207548-7.43626z"),attr(g,"fill","#dfcec3"),attr(g,"transform","matrix(-1 0 0 1 513.679252 0)"),attr(b,"d","m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z"),attr(b,"fill","#393939"),attr(b,"transform","matrix(-1 0 0 1 283.372646 0)"),attr(v,"d","m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z"),attr(v,"fill","#e88f35"),attr(w,"d","m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z"),attr(w,"fill","#8e5a30"),attr(y,"d","m30.7783023 181.657226-29.71698153 86.048161 74.29245393-4.249293h47.7594343v-37.181303l-2.122641-76.487253-10.613208 8.498583z"),attr(y,"fill","#f89d35"),attr(x,"d","m87.0283032 191.218134 87.0283028 2.124646-9.551886 44.617563-41.391511-10.623229z"),attr(x,"fill","#d87c30"),attr(k,"d","m87.0283032 192.280457 36.0849058 33.994334v33.994334z"),attr(k,"fill","#ea8d3a"),attr(E,"d","m123.113209 227.337114 42.452831 10.623229 13.79717 45.679888-9.551886 5.311615-46.698115-27.620398z"),attr(E,"fill","#f89d35"),attr(z,"d","m123.113209 261.331448-8.490565 65.864024 55.18868-38.243626z"),attr(z,"fill","#eb8f35"),attr(M,"d","m174.056606 193.34278 5.306604 90.297451-15.919812-46.211049z"),attr(M,"fill","#ea8e3a"),attr(C,"d","m74.2924539 262.393771 48.8207551-1.062323-8.490565 65.864024z"),attr(C,"fill","#d87c30"),attr(L,"d","m24.4103777 355.878193 90.2122663-28.682721-40.3301901-64.801701-73.23113313 5.311616z"),attr(L,"fill","#eb8f35"),attr(S,"d","m167.688682 110.481588-45.636793 38.243627-35.0235858 42.492919 87.0283028 3.186969z"),attr(S,"fill","#e8821e"),attr(B,"d","m132.665096 212.464593-11.674528 24.433427 41.39151-10.623229z"),attr(B,"fill","#393939"),attr(B,"transform","matrix(-1 0 0 1 283.372646 0)"),attr(q,"d","m23.349057 1.06232296 144.339625 109.41926504-24.410378-59.4900858z"),attr(q,"fill","#e88f35"),attr(j,"d","m23.349057 1.06232296-19.10377392 58.42776294 10.61320772 63.7393781-7.42924541 4.249292 10.61320771 9.560906-8.49056617 7.436261 11.67452847 10.623229-7.4292454 6.373938 16.9811323 21.246459 79.5990577-24.433428c38.915096-31.161473 58.018869-47.096318 57.311322-47.804533-.707548-.708215-48.820756-37.1813036-144.339625-109.41926504z"),attr(j,"fill","#8e5a30"),attr($,"transform","matrix(-1 0 0 1 399.056611 0)"),attr(n,"fill","none"),attr(n,"fill-rule","evenodd"),attr(n,"transform","translate(-1 -1)"),set_svg_attributes(t,W)},m(e,T){insert(e,t,T),append(t,n),append(n,a),append(n,o),append(n,r),append(n,i),append(n,l),append(n,c),append(n,s),append(n,d),append(n,u),append(n,p),append(n,m),append(n,f),append(n,h),append(n,_),append(n,g),append(n,b),append(n,v),append(n,w),append(n,$),append($,y),append($,x),append($,k),append($,E),append($,z),append($,M),append($,C),append($,L),append($,S),append($,B),append($,q),append($,j)},p(e,[n]){set_svg_attributes(t,W=get_spread_update(T,[{height:"355"},{viewBox:"0 0 397 355"},{width:"397"},{xmlns:"http://www.w3.org/2000/svg"},1&n&&e[0]]))},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$1(e,t,n){return e.$$set=e=>{n(0,t=assign(assign({},t),exclude_internal_props(e)))},[t=exclude_internal_props(t)]}class Metamask extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}function create_fragment$2(e){let t,n,a=[{height:"246"},{viewBox:"0 0 400 246"},{width:"400"},{xmlns:"http://www.w3.org/2000/svg"},e[0]],o={};for(let e=0;e<a.length;e+=1)o=assign(o,a[e]);return{c(){t=svg_element("svg"),n=svg_element("path"),this.h()},l(e){t=claim_element(e,"svg",{height:!0,viewBox:!0,width:!0,xmlns:!0},1);var a=children(t);n=claim_element(a,"path",{d:!0,fill:!0},1),children(n).forEach(detach),a.forEach(detach),this.h()},h(){attr(n,"d","m81.9180572 48.3416816c65.2149658-63.8508884 170.9493158-63.8508884 236.1642788 0l7.848727 7.6845565c3.260748 3.1925442 3.260748 8.3686816 0 11.5612272l-26.848927 26.2873374c-1.630375 1.5962734-4.273733 1.5962734-5.904108 0l-10.800779-10.5748639c-45.495589-44.5439756-119.258514-44.5439756-164.754105 0l-11.566741 11.3248068c-1.630376 1.5962721-4.273735 1.5962721-5.904108 0l-26.8489263-26.2873375c-3.2607483-3.1925456-3.2607483-8.3686829 0-11.5612272zm291.6903948 54.3649934 23.895596 23.395862c3.260732 3.19253 3.260751 8.368636.000041 11.561187l-107.746894 105.494845c-3.260726 3.192568-8.547443 3.192604-11.808214.000083-.000013-.000013-.000029-.000029-.000042-.000043l-76.472191-74.872762c-.815187-.798136-2.136867-.798136-2.952053 0-.000006.000005-.00001.00001-.000015.000014l-76.470562 74.872708c-3.260715 3.192576-8.547434 3.19263-11.808215.000116-.000019-.000018-.000039-.000037-.000059-.000058l-107.74989297-105.496247c-3.26074695-3.192544-3.26074695-8.368682 0-11.561226l23.89563947-23.395823c3.260747-3.1925446 8.5474652-3.1925446 11.8082136 0l76.4733029 74.873809c.815188.798136 2.136866.798136 2.952054 0 .000012-.000012.000023-.000023.000035-.000032l76.469471-74.873777c3.260673-3.1926181 8.547392-3.1927378 11.808214-.000267.000046.000045.000091.00009.000135.000135l76.473203 74.873909c.815186.798135 2.136866.798135 2.952053 0l76.471967-74.872433c3.260748-3.1925458 8.547465-3.1925458 11.808213 0z"),attr(n,"fill","#3b99fc"),set_svg_attributes(t,o)},m(e,a){insert(e,t,a),append(t,n)},p(e,[n]){set_svg_attributes(t,o=get_spread_update(a,[{height:"246"},{viewBox:"0 0 400 246"},{width:"400"},{xmlns:"http://www.w3.org/2000/svg"},1&n&&e[0]]))},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$2(e,t,n){return e.$$set=e=>{n(0,t=assign(assign({},t),exclude_internal_props(e)))},[t=exclude_internal_props(t)]}class Walletconnect extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}function add_css$1(){var e=element("style");e.id="svelte-1bbsd2f-style",e.textContent=".svelte-spinner.svelte-1bbsd2f{transition-property:transform;animation-name:svelte-1bbsd2f-svelte-spinner_infinite-spin;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes svelte-1bbsd2f-svelte-spinner_infinite-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",append(document.head,e)}function create_fragment$3(e){let t,n,a;return{c(){t=svg_element("svg"),n=svg_element("circle"),attr(n,"role","presentation"),attr(n,"cx","16"),attr(n,"cy","16"),attr(n,"r",e[4]),attr(n,"stroke",e[2]),attr(n,"fill","none"),attr(n,"stroke-width",e[3]),attr(n,"stroke-dasharray",a=e[5]+",100"),attr(n,"stroke-linecap","round"),attr(t,"height",e[0]),attr(t,"width",e[0]),set_style(t,"animation-duration",e[1]+"ms"),attr(t,"class","svelte-spinner svelte-1bbsd2f"),attr(t,"viewBox","0 0 32 32")},m(e,a){insert(e,t,a),append(t,n)},p(e,[o]){16&o&&attr(n,"r",e[4]),4&o&&attr(n,"stroke",e[2]),8&o&&attr(n,"stroke-width",e[3]),32&o&&a!==(a=e[5]+",100")&&attr(n,"stroke-dasharray",a),1&o&&attr(t,"height",e[0]),1&o&&attr(t,"width",e[0]),2&o&&set_style(t,"animation-duration",e[1]+"ms")},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$3(e,t,n){let a,{size:o=25}=t,{speed:r=750}=t,{color:i="rgba(0,0,0,0.4)"}=t,{thickness:l=2}=t,{gap:c=40}=t,{radius:s=10}=t;return e.$$set=e=>{"size"in e&&n(0,o=e.size),"speed"in e&&n(1,r=e.speed),"color"in e&&n(2,i=e.color),"thickness"in e&&n(3,l=e.thickness),"gap"in e&&n(6,c=e.gap),"radius"in e&&n(4,s=e.radius)},e.$$.update=()=>{80&e.$$.dirty&&n(5,a=2*Math.PI*s*(100-c)/100)},[o,r,i,l,s,a,c]}class Src extends SvelteComponent{constructor(e){super(),document.getElementById("svelte-1bbsd2f-style")||add_css$1(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}class MetaMaskConnector{constructor(e){if(!e)throw new Error("MetaMask is not injected.");this._ethereum=e}async enable(){return this._ethereum.request({method:"eth_requestAccounts"})}async personalSign(e,t){return this._ethereum.request({method:"personal_sign",params:[t,e],from:e}).then(t=>[t,e])}}var detectProvider=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:n=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof n)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let a=!1;return new Promise(o=>{function r(){if(a)return;a=!0,window.removeEventListener("ethereum#initialized",r);const{ethereum:n}=window;if(!n||e&&!n.isMetaMask){const a=e&&n?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",a),o(null)}else o(n)}window.ethereum?r():(window.addEventListener("ethereum#initialized",r,{once:!0}),setTimeout(()=>{r()},n))})};function add_css$2(){var e=element("style");e.id="svelte-xu17ap-style",e.textContent="ul.svelte-xu17ap{margin:auto;padding:0}.web3login-spinner.svelte-xu17ap{display:inline-flex}ul.svelte-xu17ap{list-style:none;margin-top:15px;padding-bottom:15px}button.svelte-xu17ap{padding:0 1em;font-size:1.2em;height:5em;width:100%;margin-top:1em;cursor:pointer;display:flex;justify-content:center;align-items:center}.web3login-logo svg{width:30px;height:1.2em;padding-right:0.3em;float:left}.web3login-close.svelte-xu17ap{color:dimgray;float:right;cursor:pointer}",append(document.head,e)}function create_if_block(e){let t,n;return t=new Modal({props:{$$slots:{default:[create_default_slot],heading:[create_heading_slot]},$$scope:{ctx:e}}}),t.$on("close",modal.close),{c(){create_component(t.$$.fragment)},m(e,a){mount_component(t,e,a),n=!0},p(e,n){const a={};519&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_if_block_2(e){let t,n,a;return n=new Src({props:{size:"0.9em"}}),{c(){t=element("span"),create_component(n.$$.fragment),attr(t,"class","web3login-spinner svelte-xu17ap")},m(e,o){insert(e,t,o),mount_component(n,t,null),a=!0},i(e){a||(transition_in(n.$$.fragment,e),a=!0)},o(e){transition_out(n.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_heading_slot(e){let t,n,a,o,r,i,l,c,s=e[2].heading+"",d=e[1]&&create_if_block_2();return{c(){t=element("span"),n=text(s),a=space(),d&&d.c(),o=space(),r=element("span"),r.textContent="×",attr(r,"class","web3login-close svelte-xu17ap"),attr(t,"slot","heading")},m(e,s){insert(e,t,s),append(t,n),append(t,a),d&&d.m(t,null),append(t,o),append(t,r),i=!0,l||(c=listen(r,"click",prevent_default(modal.close)),l=!0)},p(e,a){(!i||4&a)&&s!==(s=e[2].heading+"")&&set_data(n,s),e[1]?d?2&a&&transition_in(d,1):(d=create_if_block_2(),d.c(),transition_in(d,1),d.m(t,o)):d&&(group_outros(),transition_out(d,1,1,()=>{d=null}),check_outros())},i(e){i||(transition_in(d),i=!0)},o(e){transition_out(d),i=!1},d(e){e&&detach(t),d&&d.d(),l=!1,c()}}}function create_if_block_1(e){let t,n,a,o,r,i,l,c,s,d;return o=new Walletconnect({props:{size:"1.5em"}}),{c(){t=element("li"),n=element("button"),a=element("span"),create_component(o.$$.fragment),r=space(),i=element("span"),i.textContent="WalletConnect",attr(a,"class","web3login-logo"),attr(a,"aria-hidden","true"),attr(n,"class","web3login-walletconnect svelte-xu17ap"),attr(n,"title",l=e[2].walletconnectButtonTitle),attr(n,"type","button")},m(l,u){insert(l,t,u),append(t,n),append(n,a),mount_component(o,a,null),append(n,r),append(n,i),c=!0,s||(d=listen(n,"click",e[5]),s=!0)},p(e,t){(!c||4&t&&l!==(l=e[2].walletconnectButtonTitle))&&attr(n,"title",l)},i(e){c||(transition_in(o.$$.fragment,e),c=!0)},o(e){transition_out(o.$$.fragment,e),c=!1},d(e){e&&detach(t),destroy_component(o),s=!1,d()}}}function create_default_slot(e){let t,n,a,o,r,i,l,c,s,d,u,p,m,f,h,_;s=new Metamask({props:{size:"1.5em"}});let g=window.isSecureContext&&create_if_block_1(e);return{c(){t=space(),n=element("p"),a=text(e[0]),o=space(),r=element("ul"),i=element("li"),l=element("button"),c=element("span"),create_component(s.$$.fragment),d=space(),u=element("span"),u.textContent="MetaMask",m=space(),g&&g.c(),attr(c,"class","web3login-logo"),attr(c,"aria-hidden","true"),attr(l,"class","web3login-metamask svelte-xu17ap"),attr(l,"title",p=e[2].metamaskButtonTitle),attr(l,"type","button"),attr(r,"class","svelte-xu17ap")},m(p,b){insert(p,t,b),insert(p,n,b),append(n,a),insert(p,o,b),insert(p,r,b),append(r,i),append(i,l),append(l,c),mount_component(s,c,null),append(l,d),append(l,u),append(r,m),g&&g.m(r,null),f=!0,h||(_=listen(l,"click",e[4]),h=!0)},p(e,t){(!f||1&t)&&set_data(a,e[0]),(!f||4&t&&p!==(p=e[2].metamaskButtonTitle))&&attr(l,"title",p),window.isSecureContext&&g.p(e,t)},i(e){f||(transition_in(s.$$.fragment,e),transition_in(g),f=!0)},o(e){transition_out(s.$$.fragment,e),transition_out(g),f=!1},d(e){e&&detach(t),e&&detach(n),e&&detach(o),e&&detach(r),destroy_component(s),g&&g.d(),h=!1,_()}}}function create_fragment$4(e){let t,n,a=e[3]&&create_if_block(e);return{c(){a&&a.c(),t=empty()},m(e,o){a&&a.m(e,o),insert(e,t,o),n=!0},p(e,[n]){e[3]?a?(a.p(e,n),8&n&&transition_in(a,1)):(a=create_if_block(e),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){a&&a.d(e),e&&detach(t)}}}function instance$4(e,t,n){let a,o;component_subscribe(e,__,e=>n(2,a=e)),component_subscribe(e,modal,e=>n(3,o=e));let r=a.calltoaction,i=!1;const{getLoginMessage:l,verifySignature:c}=get_store_value(login)||{};function s(e){if(!l||!c)throw new Error("Web3Login: You must set `getLoginMessage` and `verifySignature` callbacks with `Web3Login.configure(getLoginMessage, verifySignature)` before this can work.");return n(0,r=a.permission),e.enable().then(e=>(n(0,r=a.fetching),l(e))).then(([t,o]=[])=>{if(!t||!o)throw new Error(`Need message and address, got: ${t} + ${o}`);return n(0,r=a.awaiting),e.personalSign(o,t)}).then(([t,o]=[])=>{if(!t||!o)throw new Error(`Need signedMessage and address, got: ${t} + ${o}`);return n(0,r=a.verifying),c([t,o,e])}).then(e=>{n(0,r=e||a.loggedin)}).catch(e=>{"string"!=typeof e&&(e=e&&e.message?e.message:a.aborted),n(0,r=e||a.aborted)})}return[r,i,a,o,async function(e){e.preventDefault();const t=await detectProvider();t?s(new MetaMaskConnector(t)):n(0,r=a.nodetect)},async function(e){e.preventDefault(),n(1,i=!0);const{default:t}=await import("./WalletConnect.es.min.js");if(n(1,i=!1),o){s(new t)}}]}class Component extends SvelteComponent{constructor(e){super(),document.getElementById("svelte-xu17ap-style")||add_css$2(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}function configure(e,t,n){login.update({getLoginMessage:e,verifySignature:t}),n&&__.set(n)}window.addEventListener("load",()=>{const e="web3-login-root";let t=document.getElementById(e);t||(t=document.createElement("div"),t.id=e,document.body.appendChild(t),new Component({target:t}))}),window.Web3Login={modal:modal,configure:configure};var Web3Login=Object.freeze({__proto__:null,configure:configure,modal:modal});!function(e){window.Web3Login=Web3Login,window.ethpress=window.ethpress||{},window.ethpress.metamask={connect:window.Web3Login&&window.Web3Login.modal.open},configure((function(t){var n,a;return a=t[0],(n=new FormData).append("action",e.getMessageAction),n.append("_ajax_nonce",e.getNonceNonce),n.append("coinbase",""+a),fetch(e.ajaxUrl,{method:"POST",body:n,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){if(!e.success)throw new Error(e.data);return[e.data,a]}))}),(function(t){var n=t[0],a=t[1],o=t[2],r=new FormData,i=o.isMetaMask?"metamask":o.isTrust?"trust":"walletconnect";if("string"!=typeof n)throw new Error("Missing signature");return r.append("signature",n),r.append("_ajax_nonce",e.loginNonce),r.append("action",e.loginAction),r.append("coinbase",a),r.append("provider",i),r.append("redirect_to",new URLSearchParams(window.location.search).get("redirect_to")||""),fetch(e.ajaxUrl,{method:"POST",body:r,credentials:"same-origin"}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){var t;if(e.success)return e.data;throw t="Unknown error.",e.data&&e.data.message?t=e.data.message:"string"==typeof e.data&&(t=e.data),new Error(t)})).then((function(e){if(e.redirect&&(document.location.href=e.redirect),e)return e.message}))}),e.l10n)}(window.ethpressLoginWP);
